(this["webpackJsonpcom.example.ebike"]=this["webpackJsonpcom.example.ebike"]||[]).push([[0],{100:function(e,t,c){},101:function(e,t,c){"use strict";c.r(t);var n=c(1),r=c.n(n),a=c(18),s=c.n(a),i=c(6),o=c(107),j=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,109)).then((function(t){var c=t.getCLS,n=t.getFID,r=t.getFCP,a=t.getLCP,s=t.getTTFB;c(e),n(e),r(e),a(e),s(e)}))},l=c(5),b=c(22),u=c(13),d=Object(b.b)({name:"auth",initialState:{authToken:null},reducers:{login:function(e){window.location.href="http://localhost:8000/login/user/mobile/github"},register:function(e){window.location.href="http://localhost:8000/login/user/mobile/github"},logout:function(e){e.authToken=null}}}),h=d.actions,O=h.login,x=(h.register,h.logout),p=d.reducer,m=Object(b.b)({name:"rent",initialState:{errorNotFound:null,errorOccupied:null,bike:null},reducers:{checkActiveRental:function(e){},rentBike:function(e){e.bike={id:"bike1"}},returnBike:function(e){e.bike=null}}}),g=m.actions,v=g.rentBike,_=g.returnBike,f=m.reducer,k=Object(b.a)({reducer:{root:Object(u.b)({auth:p,rent:f})}}),N=c(3),w=c(106),y=c(7),S=c.n(y),F=c(4),C=(c(65),c.p+"static/media/menu__bg.ab6a944b.svg"),T=c(0);var B=function(e){var t=e.handleLogout;return Object(T.jsxs)("div",{className:"nav__fullpage-outer-wrapper",children:[Object(T.jsx)("img",{src:C,alt:"menu__bg",className:"nav__bg"}),Object(T.jsxs)("div",{className:"nav__fullpage-inner-wrapper",children:[Object(T.jsx)(l.c,{to:"/",className:"nav__link",children:"Hem"}),Object(T.jsx)(l.c,{to:"/travels",className:"nav__link",children:"Mina Resor"}),Object(T.jsx)(l.c,{to:"/profile",className:"nav__link",children:"Profil"}),Object(T.jsx)("div",{className:"nav__link",onClick:t,children:"Logga ut"})]})]})},E=c.p+"static/media/menu__icon-dark.ec9d9c6a.svg",H=c.p+"static/media/menu__icon-white.60bfd4e8.svg",L=c.p+"static/media/logo__ebike.f526a429.svg";var P=function(e){var t=e.marginBottom,c=e.noBackground,r=Object(n.useState)(!1),a=Object(F.a)(r,2),s=a[0],o=a[1],j=Object(i.b)();return Object(T.jsxs)(T.Fragment,{children:[s?Object(T.jsx)(B,{handleLogout:function(){console.log("Logout"),j(x())}}):null,Object(T.jsxs)("div",{className:"nav__outer-wrapper",style:{backgroundColor:c?"transparent":"#fff"},children:[Object(T.jsxs)("div",{className:"nav__brand",children:[Object(T.jsx)("img",{src:L,alt:"logo",class:"nav__logo"}),"Ebike"]}),Object(T.jsx)("div",{className:"nav__menu",onClick:function(){return o(!s)},children:s?Object(T.jsx)("img",{src:H,alt:"Menu icon",className:"nav__icon"}):Object(T.jsx)("img",{src:E,alt:"Menu icon",className:"nav__icon"})})]}),t?Object(T.jsx)("div",{className:"nav__spacer"}):null]})};c(37);var U=function(e){var t=e.text,c=e.onClick,n=e.icon;return Object(T.jsxs)("button",{className:"btn__primary",onClick:c,children:[n?Object(T.jsx)("img",{src:n,alt:"icon",className:"btn__icon"}):null," ",t]})};var A=function(e){var t=e.text,c=e.onClick,n=e.icon;return Object(T.jsxs)("button",{className:"btn__secondary",onClick:c,children:[n?Object(T.jsx)("img",{src:n,alt:"icon",className:"btn__icon"}):null," ",t]})},R=c.p+"static/media/icon__scooter-white.f33ffe6b.svg";c.p,c(71);var I=function(e){Object(i.b)();var t=Object(N.f)(),c=e.cookies;return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsxs)("div",{className:"home-hero__outer-wrapper",children:[Object(T.jsx)(S.a,{title:"Hem"}),Object(T.jsxs)("div",{className:"home__container",children:[Object(T.jsxs)("div",{className:"home-hero__nav-wrapper",children:[Object(T.jsx)("div",{className:"hero__brand",children:"Ebike"}),Object(T.jsx)("div",{onClick:function(){c.remove("XSRF-TOKEN")},children:"Logout"})]}),Object(T.jsx)("div",{className:"home-hero__content-outer-wrapper",children:Object(T.jsx)("div",{className:"home-hero__content-inner-wrapper",children:Object(T.jsx)("h3",{children:"Welcome to the app! Tap the button below to start the process of renting a bike in your area"})})})]})]}),Object(T.jsx)("div",{className:"main-content__outer-wrapper",children:Object(T.jsx)("button",{class:"btn-full-width-large",onClick:function(){console.log("Navigating ro rent!"),t.push("/rent")}})})]})},D=(c(72),function(){Object(i.c)((function(e){return e.auth}));var e=Object(i.b)();Object(N.f)();return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(S.a,{title:"Auth"}),Object(T.jsx)(P,{}),Object(T.jsxs)("div",{className:"wrapper",children:[Object(T.jsx)("h1",{children:"Autentisering"}),Object(T.jsx)("p",{children:"Logga in eller registrera dig genom att klicka p\xe5 knapparna nedan."}),Object(T.jsx)("div",{className:"home__btn-wrapper",children:Object(T.jsx)(U,{text:"Logga in",onClick:function(){e(O())}})})]})]})});c(73);var M=function(e){var t=e.url;return Object(T.jsx)(l.c,{className:"btn__back",to:t,children:"Tillbaka"})},z=(c(74),c(75),c(76),c.p+"static/media/icon__error.f554c54b.svg");var K=function(e){var t=e.error;return Object(T.jsx)(T.Fragment,{children:Object(T.jsxs)("div",{className:"errornotice__outer-wrapper",children:[Object(T.jsx)("img",{src:z,alt:"Error",className:"error__icon"}),t]})})},V=function(){var e=Object(n.useState)(0),t=Object(F.a)(e,2),c=t[0],r=t[1],a=Object(n.useState)(""),s=Object(F.a)(a,2),o=s[0],j=s[1],l=Object(i.b)(),b=Object(N.f)();return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsxs)("form",{class:"form__rent",children:[Object(T.jsx)("label",{children:"Serialnummer"}),Object(T.jsx)("input",{class:"input__rent",type:"text",value:c,onChange:function(e){return r(e.target.value)},placeholder:"Scooternummer"}),Object(T.jsx)(U,{text:"Hyr scooter",onClick:function(e){e.preventDefault();null!==c?c.match(/^[0-9]+$/)?(l(v()),b.replace("/")):j("Var v\xe4nlig anv\xe4nd endast siffror (0-9)"):j("Var v\xe4nlig ange ett nummer")},icon:R})]}),o?Object(T.jsx)(K,{error:o}):null]})};var J=function(){return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(P,{}),Object(T.jsx)(S.a,{title:"Hem"}),Object(T.jsxs)("div",{className:"wrapper",children:[Object(T.jsx)(M,{url:"/"}),Object(T.jsx)("h1",{children:"Hyr scooter"}),Object(T.jsx)("p",{children:"Skriv in numret p\xe5 scootern du vill hyra."}),Object(T.jsx)(V,{}),Object(T.jsx)(l.b,{to:"/bike",children:"Test"})]})]})},W=(c(77),c.p+"static/media/home__ill.d8ace0cc.svg");var X=function(){return Object(T.jsxs)("div",{className:"home__bg",children:[Object(T.jsx)(P,{noBackground:"true"}),Object(T.jsxs)("div",{className:"home-hero__outer-wrapper",children:[Object(T.jsx)(S.a,{title:"Hem"}),Object(T.jsxs)("div",{className:"home__wrapper",children:[Object(T.jsx)("img",{src:W,alt:"hero",className:"home__img"}),Object(T.jsxs)("div",{className:"wrapper",children:[Object(T.jsx)("h1",{children:"Den ultimata elscooter-simulatorn"}),Object(T.jsx)("p",{children:"Registrera dig, hoppa p\xe5 scootern och k\xf6r ig\xe5ng"}),Object(T.jsxs)("div",{className:"home__btn-wrapper",children:[Object(T.jsx)(l.b,{to:"/auth",children:Object(T.jsx)(U,{text:"K\xf6r ig\xe5ng"})}),Object(T.jsx)("div",{className:"home__btn-spacer"})]})]})]}),Object(T.jsx)("div",{className:"home__container"})]})]})},Z=(c(78),c(28)),$=c(29),q=c(30),G=c(48),Q=c(51),Y=(c(79),function(e){Object(G.a)(c,e);var t=Object(Q.a)(c);function c(e){var n;return Object(Z.a)(this,c),(n=t.call(this,e)).state={elapsedTime:0,nextTarget:60,cost:0},n.countUp=n.countUp.bind(Object(q.a)(n)),n.startCounting(),n}return Object($.a)(c,[{key:"startCounting",value:function(){setInterval(this.countUp,1e3)}},{key:"countUp",value:function(){this.setState((function(e){return{elapsedTime:e.elapsedTime+1}})),this.state.elapsedTime==this.state.nextTarget&&this.setState({cost:this.state.cost+=1,nextTarget:this.state.nextTarget+60})}},{key:"render",value:function(){return Object(T.jsx)("div",{children:Object(T.jsxs)("div",{class:"predictedcost__counter",children:["Uppskattad kostnad: ",Object(T.jsxs)("span",{children:[this.state.cost," Sek"]})]})})}}]),c}(r.a.Component)),ee=Object(N.g)((function(){var e=Object(i.c)((function(e){return e.root})),t=Object(i.b)();return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(S.a,{title:"Ebike - Aktiv Scooter"}),Object(T.jsx)(P,{}),Object(T.jsxs)("div",{className:"wrapper",children:[Object(T.jsxs)("h1",{children:["Hyrtiden har startat f\xf6r scooter id ",e.rent.bike.id]}),Object(T.jsx)("p",{children:"V\xe4nligen notera att extra kostnader kan tillkomma om du parkerar scootern utanf\xf6r acceptabla parkeringsplatser."}),Object(T.jsx)(Y,{}),Object(T.jsx)(U,{text:"Parkera scooter",onClick:function(){t(_())},icon:R})]})]})})),te=c(104),ce=c(108),ne=c(105);var re=function(e){var t=e.bikePosition;return Object(T.jsx)("div",{className:"map__container",children:Object(T.jsxs)(te.a,{center:t,zoom:13,scrollWheelZoom:!1,children:[Object(T.jsx)(ce.a,{attribution:'\xa9 <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors \xa9 <a href="https://carto.com/attributions">CARTO</a>',url:"https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}{r}.png"}),Object(T.jsx)(ne.a,{position:t})]})})},ae=(c(80),c.p+"static/media/icon__battery.9410af5a.svg"),se=c(50),ie=c.n(se),oe=Object($.a)((function e(){var t=this;Object(Z.a)(this,e),this.init=function(){var e={Accept:"application/json"};return t.api_token&&(e.Authorization="Bearer ".concat(t.api_token)),t.client=ie.a.create({baseURL:t.api_url,timeout:31e3,headers:e}),t.client},this.getUserProfile=function(e){return t.init().get("/user/profile",{params:e})},this.getUserTravels=function(e){return t.init().get("/user/travels",{params:e})},this.getBikeData=function(e){return t.init().get("/bike/"+e)},this.postFinishedTravel=function(e){return t.init().post("/travel"+{params:e})},this.api_token=null,this.client=null,this.api_url="http://localhost:8000/api/v1"}));var je=function(e){var t=e.bikeId,c=Object(n.useState)(),r=Object(F.a)(c,2),a=r[0],s=r[1],i=Object(n.useState)(!1),o=Object(F.a)(i,2),j=o[0],l=o[1],b=Object(n.useState)(),u=Object(F.a)(b,2),d=u[0],h=u[1],O=new oe;return Object(n.useEffect)((function(){try{O.getBikeData(t||1).then((function(e){s(e.data),l(!0)}))}catch(e){h(e)}}),[]),Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(P,{}),Object(T.jsx)(S.a,{title:"Ebike - Hyr"}),j?Object(T.jsx)(re,{bikePosition:[a.latitude,a.longitude]}):null,Object(T.jsx)("div",{className:"bottom-content__wrapper",children:Object(T.jsxs)("div",{className:"bike__info-wrapper",children:[Object(T.jsx)("h3",{children:"Hyr scooter"}),Object(T.jsx)("p",{children:"L\xe5s upp scootern genom att klicka p\xe5 knappen nedan. Uthyrningstiden startar direkt efter lyckad uppl\xe5sning."}),j?Object(T.jsxs)("div",{className:"bike__details-wrapper",children:[Object(T.jsxs)("div",{className:"bike__name",children:["Ebike ID: ",a._id||"Ingen data hittad"]}),Object(T.jsxs)("div",{className:"bike__details",children:[Object(T.jsx)("img",{src:ae,alt:"battery",class:"bike__icon"}),a.battery||"Ingen data hittad","%"]})]}):null,d?Object(T.jsx)(K,{error:d}):null,Object(T.jsxs)("div",{className:"bike__btn-wrapper",children:[Object(T.jsx)(U,{text:"Hyr scooter"}),Object(T.jsx)(A,{text:"Avbryt"})]})]})})]})};var le=function(){var e=Object(n.useState)(""),t=Object(F.a)(e,2),c=t[0],r=(t[1],Object(n.useState)([])),a=Object(F.a)(r,2);return a[0],a[1],Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(S.a,{title:"Ebike - Resor"}),Object(T.jsx)(P,{}),Object(T.jsx)("div",{className:"wrapper"}),Object(T.jsxs)("div",{className:"wrapper",children:[Object(T.jsx)(M,{url:"/"}),Object(T.jsx)("h1",{children:"Mina resor"}),Object(T.jsx)("p",{children:"H\xe4r hittar du information om dina tidigare resor."}),c?Object(T.jsx)(K,{error:c}):null]})]})};c(99);var be=function(){var e=Object(n.useState)([]),t=Object(F.a)(e,2),c=(t[0],t[1],Object(n.useState)("")),r=Object(F.a)(c,2),a=r[0];return r[1],Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(S.a,{title:"Ebike - Profil"}),Object(T.jsx)(P,{}),Object(T.jsxs)("div",{className:"wrapper",children:[Object(T.jsx)(M,{url:"/"}),Object(T.jsx)("h1",{children:"Profil"}),a?Object(T.jsx)(K,{error:a}):null]})]})},ue=(c(100),function(e){var t=Object(i.c)((function(e){return e.root})),c=e.cookies,n=c.get("XSRF-TOKEN");return Object(T.jsx)(T.Fragment,{children:!n.lenght()>0?Object(T.jsx)(T.Fragment,{children:Object(T.jsxs)(N.c,{children:[Object(T.jsx)(N.a,{exact:!0,path:"/",component:X}),Object(T.jsx)(N.a,{exact:!0,path:"/auth",component:D})]})}):t.rent.bike?Object(T.jsx)(T.Fragment,{children:Object(T.jsx)(N.a,{exact:!0,path:"/",component:ee})}):Object(T.jsx)(T.Fragment,{children:Object(T.jsxs)(N.c,{children:[Object(T.jsx)(N.a,{exact:!0,path:"/",render:function(){return Object(T.jsx)(I,{cookies:c})}}),Object(T.jsx)(N.a,{exact:!0,path:"/rent",component:J}),Object(T.jsx)(N.a,{exact:!0,path:"/bike",component:je}),Object(T.jsx)(N.a,{exact:!0,path:"/travels",component:le}),Object(T.jsx)(N.a,{exact:!0,path:"/profile",component:be})]})})})}),de=Object(w.a)((function(e){Object(i.c)((function(e){return e.root}));return Object(T.jsx)(T.Fragment,{children:Object(T.jsx)(N.c,{children:Object(T.jsx)(N.a,{path:"/",render:function(){return Object(T.jsx)(ue,{cookies:e.cookies})}})})})}));s.a.render(Object(T.jsx)(o.a,{children:Object(T.jsx)(i.a,{store:k,children:Object(T.jsx)(r.a.StrictMode,{children:Object(T.jsx)(l.a,{children:Object(T.jsx)(de,{})})})})}),document.getElementById("root")),j()},37:function(e,t,c){},65:function(e,t,c){},71:function(e,t,c){},72:function(e,t,c){},73:function(e,t,c){},74:function(e,t,c){},75:function(e,t,c){},76:function(e,t,c){},77:function(e,t,c){},78:function(e,t,c){},79:function(e,t,c){},80:function(e,t,c){},99:function(e,t,c){}},[[101,1,2]]]);
//# sourceMappingURL=main.a58c2359.chunk.js.map